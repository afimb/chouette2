<div class="page_info">
  <span class="search"> <%= t("will_paginate.page_entries_info.search") %></span> <%= page_entries_info @vehicle_journeys %>
</div>
<div class="pagination">
  <%= will_paginate @vehicle_journeys, :container => false, renderer: RemoteBootstrapPaginationLinkRenderer %>
</div>
<div class="vehicle_journeys paginated_content">
  <table class="table table-hover table-striped">
  <thead>
    <tr>
      <th class="title"><%= Chouette::JourneyPattern.model_name.human.pluralize %> :</th>
      <% @vehicle_journeys.map(&:journey_pattern).each do |jp| %>
        <th><%= link_to journey_name( jp), [@referential, @line, @route, jp] %></th>
    <% end %>
    </tr>
    <tr>
      <th class="title"><%= Chouette::TimeTable.model_name.human.pluralize %> :</th>
      <% @vehicle_journeys.each do |vj| %>
        <th title="<%= time_tables_info( vj) %>" class="calendars">
          <%= time_tables_shortest_info( vj) %>
        </th>
      <% end %>
    </tr>
    <tr>
      <th class="title"><%= Chouette::VehicleJourney.model_name.human.pluralize %> :</th>
      <% @vehicle_journeys.each do |vj| %>
      <th> <%= link_to vehicle_name(vj), [@referential, @line, @route, vj]%></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
  <% @route.stop_points.each_with_index do |sp, index| %>
  <tr class="<%= cycle('odd', 'even') %>">
    <td class="stop_area"><%= sp.stop_area.name %></td>
    <% @vehicle_journeys.each do |vj| %>
      <td class="hours <%= missing_time_check(@matrix["#{vj.id}-#{sp.id}"]) %>">
        <%= (@matrix["#{vj.id}-#{sp.id}"] && @matrix["#{vj.id}-#{sp.id}"].departure_time) ? l( @matrix["#{vj.id}-#{sp.id}"].departure_time, :format => :hour) : "--" %>
      </td>
    <% end %>
  </tr>
  <% end %>
  </tbody>
  </table>
</div>
<div class="pagination">
  <%= will_paginate @vehicle_journeys, :container => false, renderer: RemoteBootstrapPaginationLinkRenderer %>
</div>

